[gd_scene load_steps=15 format=3 uid="uid://p231ma1464qf"]

[ext_resource type="Texture2D" uid="uid://lc6jus06m0cu" path="res://assets/mock-up/sky1.png" id="1_sk6nk"]
[ext_resource type="Script" path="res://scenes/InteractableNpc.gd" id="2_kdxtk"]
[ext_resource type="Texture2D" uid="uid://b7fv2uacj0djd" path="res://assets/mock-up/street1.png" id="2_vsfli"]
[ext_resource type="Texture2D" uid="uid://7tp7e286bnch" path="res://assets/character/body.png" id="2_w3he4"]
[ext_resource type="Script" path="res://scenes/PlayerCamera.gd" id="4_or7gr"]
[ext_resource type="Script" path="res://scenes/DialogueController.gd" id="6_wbb4c"]
[ext_resource type="PackedScene" uid="uid://bsjg8tmo5m7lg" path="res://sprite/npc-character.tscn" id="7_dl3ce"]
[ext_resource type="PackedScene" uid="uid://b8mnx6cgqss1j" path="res://ui/investigation.tscn" id="7_mqdxw"]
[ext_resource type="PackedScene" uid="uid://y7ke2edfixad" path="res://ui/appealing_panel.tscn" id="8_26xd4"]

[sub_resource type="Gradient" id="Gradient_8qa7c"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_avvyh"]
gradient = SubResource("Gradient_8qa7c")

[sub_resource type="CircleShape2D" id="CircleShape2D_cwamg"]
radius = 14.4005

[sub_resource type="CircleShape2D" id="CircleShape2D_pko2m"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_kdoax"]
bg_color = Color(0.244776, 0.244776, 0.244776, 1)

[node name="DayShift" type="Node2D"]

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(334, 185)
scale = Vector2(10.3281, 12.9844)
energy = 11.95
texture = SubResource("GradientTexture2D_avvyh")

[node name="PlayerCamera" type="CharacterBody2D" parent="."]
position = Vector2(0, 6)
script = ExtResource("4_or7gr")

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerCamera"]
position = Vector2(-643.194, 165.095)
shape = SubResource("CircleShape2D_cwamg")
disabled = true

[node name="Camera2D" type="Camera2D" parent="PlayerCamera"]
position = Vector2(206, 439)

[node name="InteractableNpc" type="CharacterBody2D" parent="."]
position = Vector2(1096, 507)
script = ExtResource("2_kdxtk")

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractableNpc"]
visible = false
position = Vector2(-9, 19)
shape = SubResource("CircleShape2D_pko2m")
disabled = true

[node name="Sprite2D" type="Sprite2D" parent="InteractableNpc"]
position = Vector2(-907.72, -76.72)
scale = Vector2(0.370547, 0.370547)
texture = ExtResource("2_w3he4")

[node name="InteractButton" type="Button" parent="InteractableNpc"]
offset_left = -1020.0
offset_top = -260.0
offset_right = -797.0
offset_bottom = 107.0
metadata/_edit_use_anchors_ = true

[node name="NPC2" type="CharacterBody2D" parent="."]
position = Vector2(623, 540)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NPC2"]
position = Vector2(-9, 19)
shape = SubResource("CircleShape2D_pko2m")
disabled = true

[node name="Sprite2D" type="Sprite2D" parent="NPC2"]
position = Vector2(171.61, 4)
scale = Vector2(0.664824, 0.361875)
texture = ExtResource("2_w3he4")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
scroll_limit_begin = Vector2(-1000, 0)
scroll_limit_end = Vector2(1000, 0)

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.55, 0.55)
motion_mirroring = Vector2(1127, 0)

[node name="sky" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(563, 307.5)
scale = Vector2(0.878505, 1.04167)
texture = ExtResource("1_sk6nk")
metadata/_edit_lock_ = true

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(1127, 0)

[node name="street" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(562.841, 307)
scale = Vector2(0.880311, 1.86494)
texture = ExtResource("2_vsfli")
metadata/_edit_lock_ = true

[node name="DialogueController" type="CanvasLayer" parent="."]
script = ExtResource("6_wbb4c")

[node name="AppealTimer" type="Timer" parent="DialogueController"]
process_callback = 0
wait_time = 10.0
one_shot = true

[node name="Character" parent="DialogueController" instance=ExtResource("7_dl3ce")]
visible = false
position = Vector2(110, 440)
scale = Vector2(6, 6)

[node name="InvestigationPanel" parent="DialogueController" instance=ExtResource("7_mqdxw")]
offset_top = -375.0
offset_bottom = -66.0
auto_translate = false

[node name="AppealToggle" type="Button" parent="DialogueController"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="AppealingPanel" parent="DialogueController" instance=ExtResource("8_26xd4")]
anchors_preset = 14
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = 550.5
offset_bottom = 953.5
grow_vertical = 2
size_flags_vertical = 4

[node name="ButtomMargin" type="Panel" parent="DialogueController"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -72.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 0
size_flags_vertical = 8
theme_override_styles/panel = SubResource("StyleBoxFlat_kdoax")

[node name="test1" type="Button" parent="DialogueController/ButtomMargin"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -18.5
offset_right = 97.0
offset_bottom = 18.5
grow_vertical = 2
text = "test 1"

[node name="test2" type="Button" parent="DialogueController/ButtomMargin"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -18.5
offset_right = 97.0
offset_bottom = 18.5
grow_vertical = 2
text = "test 1"

[connection signal="button_down" from="InteractableNpc/InteractButton" to="InteractableNpc" method="_on_interact_button_button_down"]
[connection signal="button_down" from="DialogueController/AppealToggle" to="DialogueController" method="_on_toggle_area_button_down"]
[connection signal="button_down" from="DialogueController/ButtomMargin/test1" to="DialogueController" method="_on_test_1_button_down"]
[connection signal="button_down" from="DialogueController/ButtomMargin/test2" to="DialogueController" method="_on_test_1_button_down"]
